<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>appManager</title>
    <link rel="icon" type="image/x-icon" href="/resources/icon.ico">

    <link rel="stylesheet" href="/resources/cdn/adminlte/css/adminlte.min.css">
    <link rel="stylesheet" href="/resources/cdn/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/resources/cdn/font-awesome-6.6.0/css/all.min.css">
    <link rel="stylesheet" href="/resources/cdn/font-awesome-6.6.0/css/brands.min.css">
    <link rel="stylesheet" href="/resources/cdn/sweetalert2/sweetalert2.min.css">
    <link rel="stylesheet" href="/resources/cdn/sweetalert2-theme-bootstrap-4/bootstrap-4.min.css">
    <link rel="stylesheet" href="/styles.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.12/codemirror.min.css">

    <style>
        /* html, body {
            width: 100%;
            height: 100vh;
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--primary);
        } */

        /* .container {
            text-align: center;
            padding: 10px;
            border:solid 1px #333;
            background-color: white;
        } */
    </style>
</head>
<body>

    <!--LOGIN-->
    <main class="container" id="login">
        <h1 class="text-center text-white">APP MANAGER</h1>
        <article class="card shadow-sm">
            <div class="card-body">
                <div class="form-group">
                    <label for="">Email</label>
                    <input type="email" class="form-control" autocomplete="off" name="email">
                </div>
                <div class="form-group">
                    <label for="">Password</label>
                    <div class="input-group">
                        <input type="password" class="form-control" autocomplete="off" name="password">
                        <div class="input-group-append">
                            <button class="btn btn-light border" name="show-password"><i class="fas fa-eye-slash"></i></button>
                        </div>
                    </div>
                </div>
                <button class="btn btn-primary" name="login">Login</button>
            </div>
        </article>
    </main>
    <!--LOGIN-END-->

    <main class="container-fluid my-5 d-none" id="panel">
        <div class="row">
            <div class="col-4">
                <div class="card">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-8">
                                <button class="btn btn-success btn-block" name="nuevo-proyecto"><i class="fas fa-plus"></i> Nuevo proyecto</button>
                            </div>
                            <div class="col-4">
                                <button class="btn btn-danger btn-block" name="borrar-proyecto" disabled><i class="fas fa-trash"></i> Borrar proyecto</button>
                            </div>
                        </div>
                        <div class="border mt-3">
                            <table class="table table-sm" name="tabla-proyectos">
                                <thead class="thead-dark">
                                    <tr>
                                        <th>Nombre</th>
                                        <th class="text-right">CPU</th>
                                        <th class="text-right">RAM</th>
                                        <th class="text-right">Estado (pm2)</th>
                                    </tr>
                                </thead>
                                <tbody>

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-8">
                <article class="card card-primary card-tabs">
                    <div class="card-header p-0 pt-1">
                        <ul class="nav nav-tabs" id="tabs-headers" role="tablist">
                            <li class="pt-2 px-3">
                                <h3 class="card-title">Proyecto</h3>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link active" id="home-tab" data-toggle="pill" href="#home" role="tab" aria-controls="home" aria-selected="true"><i class="fas fa-home"></i> home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="nginx-tab" data-toggle="pill" href="#nginx" role="tab" aria-controls="nginx" aria-selected="false">nginx</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="env-tab" data-toggle="pill" href="#env" role="tab" aria-controls="env" aria-selected="false">.env</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="pm2-tab" data-toggle="pill" href="#pm2" role="tab" aria-controls="pm2" aria-selected="false">pm2</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="git-tab" data-toggle="pill" href="#git" role="tab" aria-controls="git" aria-selected="false">git</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="log-tab" data-toggle="pill" href="#log" role="tab" aria-controls="log" aria-selected="false">Logs</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="actions-tab" data-toggle="pill" href="#actions" role="tab" aria-controls="actions" aria-selected="false">actions</a>
                            </li>
                        </ul>
                    </div>
                    <div class="card-body">
                        <div class="tab-content" id="tabs">
                            <div class="tab-pane fade active show" id="home" role="tabpanel" aria-labelledby="home-tab">
                                <div class="titulo">1. Datos principales</div>
                                <div class="form-group">
                                    <label for="">Nombre</label>
                                    <input type="text" class="form-control form-control-sm" disabled name="nombre">
                                </div>
                                <div class="form-group">
                                    <label for="">Dominio</label>
                                    <input type="text" class="form-control form-control-sm" disabled name="dominio">
                                </div>
                                <button class="btn btn-primary" name="guardar-datos">Guardar datos</button>
                                
                                <div class="titulo mt-3">2. Clonar repositorio</div>
                                <div class="form-group">
                                    <label for="">Token</label>
                                    <input type="text" class="form-control form-control-sm" disabled name="token-git">
                                    <small class="text-muted">Solo para repositorios privados</small>
                                </div>
                                <div class="form-group">
                                    <label for="">URL repositorio (.git)</label>
                                    <input type="text" class="form-control form-control-sm" disabled name="url-repo">
                                </div>
                                <button class="btn btn-primary" name="clonar-repo">Clonar repo</button>

                                <div class="titulo mt-3">3. Instalar archivos adicionales</div>
                                <button class="btn btn-primary mt-2" name="instalar-dependencias">3.1 Instalar dependencias</button>
                                <br>
                                <button class="btn btn-primary mt-2" name="clonar-env">3.2 Clonar .env</button>
                                <br>
                                <button class="btn btn-primary mt-2" name="crear-archivo-nginx">3.3 Crear archivo nginx</button>

                            </div>
                            <div class="tab-pane fade" id="nginx" role="tabpanel" aria-labelledby="nginx-tab">
                                <button class="btn btn-primary" disabled name="crear-nginx-file">Crear archivo de configuraci√≥n</button>
                                <textarea name="code-editor"></textarea>
                            </div>
                            <div class="tab-pane fade" id="env" role="tabpanel" aria-labelledby="env-tab">
                                Morbi turpis dolor, vulputate vitae felis non, tincidunt congue mauris. Phasellus volutpat augue id mi placerat mollis. Vivamus faucibus eu massa eget condimentum. Fusce nec hendrerit sem, ac tristique nulla. Integer vestibulum orci odio. Cras nec augue ipsum. Suspendisse ut velit condimentum, mattis urna a, malesuada nunc. Curabitur eleifend facilisis velit finibus tristique. Nam vulputate, eros non luctus efficitur, ipsum odio volutpat massa, sit amet sollicitudin est libero sed ipsum. Nulla lacinia, ex vitae gravida fermentum, lectus ipsum gravida arcu, id fermentum metus arcu vel metus. Curabitur eget sem eu risus tincidunt eleifend ac ornare magna.
                            </div>
                            <div class="tab-pane fade" id="pm2" role="tabpanel" aria-labelledby="pm2-tab">
                                <div class="row">
                                    <div class="col">
                                        <button class="btn btn-light btn-block" name="pm2-start"><i class="fas fa-play text-success"></i> Iniciar</button>
                                    </div>
                                    <div class="col">
                                        <button class="btn btn-light btn-block" name="pm2-stop"><i class="fas fa-stop text-danger"></i> Detener</button>
                                    </div>
                                    <div class="col">
                                        <button class="btn btn-light btn-block" name="pm2-restart"><i class="fas fa-refresh text-warning"></i> Reiniciar</button>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="git" role="tabpanel" aria-labelledby="git-tab">
                                Morbi turpis dolor, vulputate vitae felis non, tincidunt congue mauris. Phasellus volutpat augue id mi placerat mollis. Vivamus faucibus eu massa eget condimentum. Fusce nec hendrerit sem, ac tristique nulla. Integer vestibulum orci odio. Cras nec augue ipsum. Suspendisse ut velit condimentum, mattis urna a, malesuada nunc. Curabitur eleifend facilisis velit finibus tristique. Nam vulputate, eros non luctus efficitur, ipsum odio volutpat massa, sit amet sollicitudin est libero sed ipsum. Nulla lacinia, ex vitae gravida fermentum, lectus ipsum gravida arcu, id fermentum metus arcu vel metus. Curabitur eget sem eu risus tincidunt eleifend ac ornare magna.
                            </div>
                            <div class="tab-pane fade" id="log" role="tabpanel" aria-labelledby="log-tab">
                                Morbi turpis dolor, vulputate vitae felis non, tincidunt congue mauris. Phasellus volutpat augue id mi placerat mollis. Vivamus faucibus eu massa eget condimentum. Fusce nec hendrerit sem, ac tristique nulla. Integer vestibulum orci odio. Cras nec augue ipsum. Suspendisse ut velit condimentum, mattis urna a, malesuada nunc. Curabitur eleifend facilisis velit finibus tristique. Nam vulputate, eros non luctus efficitur, ipsum odio volutpat massa, sit amet sollicitudin est libero sed ipsum. Nulla lacinia, ex vitae gravida fermentum, lectus ipsum gravida arcu, id fermentum metus arcu vel metus. Curabitur eget sem eu risus tincidunt eleifend ac ornare magna.
                            </div>
                            <div class="tab-pane fade" id="actions" role="tabpanel" aria-labelledby="actions-tab">
                                Morbi turpis dolor, vulputate vitae felis non, tincidunt congue mauris. Phasellus volutpat augue id mi placerat mollis. Vivamus faucibus eu massa eget condimentum. Fusce nec hendrerit sem, ac tristique nulla. Integer vestibulum orci odio. Cras nec augue ipsum. Suspendisse ut velit condimentum, mattis urna a, malesuada nunc. Curabitur eleifend facilisis velit finibus tristique. Nam vulputate, eros non luctus efficitur, ipsum odio volutpat massa, sit amet sollicitudin est libero sed ipsum. Nulla lacinia, ex vitae gravida fermentum, lectus ipsum gravida arcu, id fermentum metus arcu vel metus. Curabitur eget sem eu risus tincidunt eleifend ac ornare magna.
                            </div>
                        </div>
                    </div>
                    <!-- /.card -->
                </article>
            </div>
        </div>
    </main>
    
    <div id="modales">
        <template id="modal_proyecto">
            <div class="form-group">
                <label for="">Nombre</label>
                <input type="text" name="nombre" class="form-control">
            </div>
            <div class="form-group">
                <label for="">Dominio</label>
                <input type="text" name="dominio" class="form-control">
            </div>
            <div class="form-group">
                <label for="">Direcotiro</label>
                <input type="text" name="directorio" class="form-control" value="/var/www/" placeholder="/var/www">
            </div>
            <button class="btn btn-primary" name="guardar">Guardar</button>
        </template>
        <template id="modal_accion">
            <div class="form-group">
                <label for="">Nombre</label>
                <input type="text" name="nombre" class="form-control">
            </div>
            <div class="form-group">
                <label for="">Endpoint</label>
                <input type="text" name="endpoint" class="form-control">
            </div>
            <div class="form-group">
                <label for="">Metodo</label>
                <select name="metodo" class="form-control">
                    <option value="GET">GET</option>
                    <option value="POST">POST</option>
                </select>
            </div>
            <div class="border">
                <b>Parametros</b>
                <div class="row">
                    <div class="col">
                        <input type="text" placeholder="prop" name="prop" class="form-control form-control-sm">
                    </div>
                    <div class="col">
                        <input type="text" placeholder="val" name="val" class="form-control form-control-sm">
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col">
                        <input type="text" placeholder="prop" name="prop" class="form-control form-control-sm">
                    </div>
                    <div class="col">
                        <input type="text" placeholder="val" name="val" class="form-control form-control-sm">
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col">
                        <input type="text" placeholder="prop" name="prop" class="form-control form-control-sm">
                    </div>
                    <div class="col">
                        <input type="text" placeholder="val" name="val" class="form-control form-control-sm">
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col">
                        <input type="text" placeholder="prop" name="prop" class="form-control form-control-sm">
                    </div>
                    <div class="col">
                        <input type="text" placeholder="val" name="val" class="form-control form-control-sm">
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col">
                        <input type="text" placeholder="prop" name="prop" class="form-control form-control-sm">
                    </div>
                    <div class="col">
                        <input type="text" placeholder="val" name="val" class="form-control form-control-sm">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col">
                    <button class="btn btn-primary btn-block" name="guardar"><i class="fas fa-save"></i> Guardar</button>
                </div>
                <div class="col">
                    <button class="btn btn-success btn-block" name="ejecutar"><i class="fas fa-play"></i> Ejecutar</button>
                </div>
            </div>
        </template>
    </div>


    <script src="/resources/cdn/jquery-3.7.1.min.js"></script>
    <script src="/resources/cdn/bootstrap/js/popper.min.js"></script>
    
    <script src="/resources/cdn/adminlte/js/adminlte.min.js"></script>
    <script src="/resources/cdn/bootstrap/js/bootstrap.min.js"></script>
    <script src="/resources/cdn/sweetalert2/sweetalert2.all.min.js"></script>
    
    <script src="/resources/Fechas.js"></script>
    <script src="/resources/Modal.js"></script>
    <script src="/resources/Utils.js"></script>
    <script src="/scripts.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.12/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.12/mode/javascript/javascript.min.js"></script>

    <script>
        var modal = null;
        var utils = null;
        var fechas = null;
        var mainScript = null;

        window.onload = () => {
            modal = new Modal();
            utils = new Utils();
            fechas = new Fechas();
            mainScript = new MainScript();
        }
    </script>
</body>
</html>